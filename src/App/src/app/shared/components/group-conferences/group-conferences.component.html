<p-card styleClass="section-card">
    <ng-template pTemplate="header">
        <div class="section-header">
            <h2>Followed Conferences</h2>
            <div class="header-actions">
                <p-tag [value]="conferences().length.toString()" severity="info"></p-tag>
                @if (isOwnerOrManager()) {
                    <button pButton type="button" label="Select Conferences to Follow" icon="pi pi-plus" (click)="openJoinDialog()"></button>
                }
            </div>
        </div>
    </ng-template>
    @if (conferences().length > 0) {
    <div class="conferences-list">
        @for (conference of conferences(); track conference.id) {
        <div class="conference-item">
            <div class="conference-info">
                <i class="pi pi-calendar"></i>
                <div class="conference-details">
                    <span class="conference-name">{{ conference.name }}</span>
                    <span class="conference-location">
                        <i class="pi pi-map-marker"></i>
                        {{ conference.location }}
                    </span>
                    <span class="conference-dates">
                        {{ conference.startDate | date: 'mediumDate' }} - {{ conference.endDate | date: 'mediumDate' }}
                    </span>
                </div>
            </div>
        </div>
        }
    </div>
    } @else {
    <div class="empty-state-small">
        <i class="pi pi-calendar"></i>
        <p>No followed conferences yet</p>
    </div>
    }

    <p-dialog [visible]="showJoinDialog()" (visibleChange)="showJoinDialog.set($event)" [modal]="true" [style]="{width: '900px', maxWidth: '95vw'}" header="Follow Conferences">
        <attn-conferences-group-join></attn-conferences-group-join>
    </p-dialog>
</p-card>